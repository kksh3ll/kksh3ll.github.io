---
layout: post
title: "容器内核参数修改"
date: 2022-03-18
categories: [docker]
---

> 

## 问题描述

有时需要修改容器内核参数，比如修改net.ipv4.tcp_tw_reuse参数，以提高TCP连接的复用率。
但是启动容器会报错，提示参数不存在。

我的理解是先挂载一个配置文件到容器中，然后修改配置文件中的参数，最后重启容器使参数生效。
但是对其中的原理不是很了解。

在Linux容器环境下，容器的内核参数是如何修改的？
启动时，它是通过内核提供的Namespace API来创建并进入一个新的命名空间环境